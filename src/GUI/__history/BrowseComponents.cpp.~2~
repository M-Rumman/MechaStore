#include <vcl.h>
#pragma hdrstop

#include "BrowseComponents.h"
#include "../models/PortalManager.h"
#include "../models/Component.h"

extern PortalManager store;

#pragma package(smart_init)
#pragma resource "*.dfm"

TBrowseComponents *BrowseComponents;

__fastcall TBrowseComponents::TBrowseComponents(TComponent* Owner)
    : TForm(Owner)
{
}

void TBrowseComponents::ShowComponents()
{
    Memo1->Lines->Clear();

    for (auto &c : store.getComponents())
    {
        Memo1->Lines->Add(
            ("ID: " + to_string(c.getId()) +
             " | " + c.getName() +
             " | $" + to_string(c.getPrice()) +
             " | Qty: " + to_string(c.getQuantity())).c_str()
        );
    }
}

void __fastcall TBrowseComponents::FormShow(TObject *Sender)
{
    ShowComponents();
}

